<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<link href="/resource/style.css" rel="stylesheet">
		<script src="/resource/info.js"></script>
		<script src="/resource/api.js"></script>
		<script src="/resource/runtime.js"></script>
		<script src="/resource/game.js"></script>
	</head>
	<style>
		#container
		{
			position: fixed;
			left: 10%;
			top: 10%;
			width: 80%;
			height: 80%;
			background-color: aliceblue;
			border-style: solid;
			border-color: #66cbea;
			border-radius: 5px;
			opacity: 70%;
		}
	</style>
	<script>
		function on_save(num) {
			dict = {
				"step": get_url_arg("step"),
				"scene": get_url_arg("scene"),
				"saying": get_url_arg("saying"),
			};
			save(num.toString(), JSON.stringify(dict));
		}
		function return_to_game() {
			location.assign("/game" + location.search)
		}
	</script>
	<body>
		<img id="background" height="100%" width="100%">
		<div id="container">
		<button id="1" class="button" style="position: absolute;
			left: 2%;
			top: 2%;
			width: 45%;height: 25%;" onclick="on_save(1);">Empty</button>
		<button id="2" class="button" style="position: absolute;
			right: 2%;
			top: 2%;
			width: 45%;height: 25%;" onclick="on_save(2);">Empty</button>
		<br>
		<button id="3" class="button" style="position: absolute;
			left: 2%;
			top: 29%;
			width: 45%;height: 25%;" onclick="on_save(3);">Empty</button>
		<button id="4" class="button" style="position: absolute;
			right: 2%;
			top: 29%;
			width: 45%;height: 25%;" onclick="on_save(4);">Empty</button>
		<br>
		<button id="5" class="button" style="position: absolute;
			left: 2%;
			top: 58%;
			width: 45%;height: 25%;" onclick="on_save(5);">Empty</button>
		<button id="6" class="button" style="position: absolute;
			right: 2%;
			top: 58%;
			width: 45%;height: 25%;" onclick="on_save(6);">Empty</button>
		<button class="button" style="position: absolute;
			right: 2%;
			bottom: 2%;" onclick="return_to_game();">Return</button>
		</div>
	</body>
	<script>
		get_config("title").then((title) => {
			set_title(title);
		});

		get_config("background").then((background) => {
			set_background(background);
		});

		let lis = [];
		for(let i = 1; i <= 6; i++) {
			lis.push(7 - i);
			load(i.toString()).then((data) => {
				let dict = JSON.parse(data);
				let saying = dict["saying"];
				document.getElementById(lis.pop().toString()).innerHTML = saying;
			});
		}
	</script>
</html>
